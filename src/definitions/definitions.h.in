// This file is part of RSS Guard.
//
// Copyright (C) 2011-2014 by Martin Rotter <rotter.martinos@gmail.com>
//
// RSS Guard is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// RSS Guard is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with RSS Guard. If not, see <http://www.gnu.org/licenses/>.

#ifndef DEFS_H
#define DEFS_H

#include <QtGlobal>

#if QT_VERSION >= 0x050000
#include <qwebkitglobal.h>
#else
#include <qwebkitversion.h>
#endif

#define CMAKE_VERSION       "@CMAKE_VERSION@"
#define CMAKE_SYSTEM        "@CMAKE_SYSTEM@"

#define APP_NAME            "@APP_NAME@"
#define APP_LOW_NAME        "@APP_LOW_NAME@"
#define APP_LOW_H_NAME      ".@APP_LOW_NAME@"
#define APP_LONG_NAME       "@APP_NAME@ @APP_VERSION@"
#define APP_AUTHOR          "@APP_AUTHOR@"
#define APP_EMAIL           "@APP_EMAIL@"
#define APP_URL             "@APP_URL@"
#define APP_URL_ISSUES      "@APP_URL_ISSUES@"
#define APP_URL_ISSUES_NEW  "@APP_URL_ISSUES_NEW@"
#define APP_VERSION         "@APP_VERSION@"
#define APP_USERAGENT       QString("@APP_NAME@/@APP_VERSION@ (@APP_URL@) on @CMAKE_SYSTEM@; Webkit/") + qWebKitVersion()

#define RELEASES_LIST                   "https://bitbucket.org/skunkos/rssguard/raw/master/resources/text/UPDATES?at=master"
#define DEFAULT_LOCALE                  "en_GB"
#define DEFAULT_FEED_ENCODING           "UTF-8"
#define URL_REGEXP                      "^(http|https|feed|ftp):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?$"
#define USER_AGENT_HTTP_HEADER          "User-Agent"
#define TEXT_TITLE_LIMIT                30
#define MAX_ZOOM_FACTOR                 10.0
#define ICON_SIZE_SETTINGS              16
#define NO_PARENT_CATEGORY              -1
#define TRAY_ICON_BUBBLE_TIMEOUT        20000
#define KEY_MESSAGES_VIEW               "messages_view_column_"
#define CLOSE_LOCK_TIMEOUT              3000
#define DOWNLOAD_TIMEOUT                5000
#define MESSAGES_VIEW_DEFAULT_COL       170
#define FEEDS_VIEW_COLUMN_COUNT         2
#define ELLIPSIS_LENGTH                 3
#define MIN_CATEGORY_NAME_LENGTH        3
#define INTERNAL_URL_NEWSPAPER          "@APP_LOW_NAME@:newspaper"
#define DEFAULT_AUTO_UPDATE_INTERVAL    15
#define AUTO_UPDATE_INTERVAL            60000
#define STARTUP_UPDATE_DELAY            1500
#define TIMEZONE_OFFSET_LIMIT           6
#define CHANGE_EVENT_DELAY              250
#define SPACER_OBJECT_NAME              "spacer"
#define FILTER_OBJECT_NAME              "filter"
#define SEPARATOR_ACTION_NAME           "separator"
#define FILTER_WIDTH                    150
#define FILTER_RIGHT_MARGIN             5

#define APP_DB_TEST_MYSQL             "MySQLTest"
#define APP_DB_MYSQL_PORT             3306
#define APP_DB_DRIVER_SQLITE          "QSQLITE"
#define APP_DB_DRIVER_MYSQL           "QMYSQL"
#define APP_DB_INIT_MYSQL             "db_init_mysql.sql"
#define APP_DB_INIT_SQLITE            "db_init_sqlite.sql"
#define APP_DB_INIT_SQLITE_MEMORY     "db_init_sqlite_memory.sql"
#define APP_DB_INIT_SPLIT             "-- !\n"
#define APP_DB_PATH                   "data/database/local"
#define APP_DB_FILE                   "database.db"
#define APP_DB_WEB_PATH               "data/database/web"

#define APP_CFG_PATH        "data/config"
#define APP_CFG_FILE        "config.ini"
#define APP_CFG_GUI         "gui"
#define APP_CFG_GEN         "main"
#define APP_CFG_PROXY       "proxy"
#define APP_CFG_DB          "database"
#define APP_CFG_CUTS        "keyboard"
#define APP_CFG_BROWSER     "browser"
#define APP_CFG_MESSAGES    "messages"
#define APP_CFG_FEEDS       "feeds"
#define APP_CFG_CAT_EXP     "categories_expand_states"

#if defined(Q_OS_OSX)
#define APP_PREFIX          "@CMAKE_INSTALL_PREFIX@/@APP_LOW_NAME@.app/Contents/Resources"
#else
#define APP_PREFIX          "@CMAKE_INSTALL_PREFIX@"
#endif

#define APP_REVISION        "@APP_REVISION@"

#define APP_IS_RUNNING      "app_is_running"
#define APP_SKIN_DEFAULT    "base/vergilius.xml"
#define APP_THEME_DEFAULT   "mini-kfaenza"
#define APP_NO_THEME        "-"
#define APP_THEME_SUFFIX    ".png"

// Indexes of columns as they are DEFINED IN THE TABLE for MESSAGES.
#define MSG_DB_ID_INDEX           0
#define MSG_DB_READ_INDEX         1
#define MSG_DB_DELETED_INDEX      2
#define MSG_DB_IMPORTANT_INDEX    3
#define MSG_DB_FEED_INDEX         4
#define MSG_DB_TITLE_INDEX        5
#define MSG_DB_URL_INDEX          6
#define MSG_DB_AUTHOR_INDEX       7
#define MSG_DB_DCREATED_INDEX     8
#define MSG_DB_CONTENTS_INDEX     9

// Indexes of columns as they are DEFINED IN THE TABLE for CATEGORIES.
#define CAT_DB_ID_INDEX           0
#define CAT_DB_PARENT_ID_INDEX    1
#define CAT_DB_TITLE_INDEX        2
#define CAT_DB_DESCRIPTION_INDEX  3
#define CAT_DB_DCREATED_INDEX     4
#define CAT_DB_ICON_INDEX         5

// Indexes of columns as they are DEFINED IN THE TABLE for FEEDS.
#define FDS_DB_ID_INDEX               0
#define FDS_DB_TITLE_INDEX            1
#define FDS_DB_DESCRIPTION_INDEX      2
#define FDS_DB_DCREATED_INDEX         3
#define FDS_DB_ICON_INDEX             4
#define FDS_DB_CATEGORY_INDEX         5
#define FDS_DB_ENCODING_INDEX         6
#define FDS_DB_URL_INDEX              7
#define FDS_DB_PROTECTED_INDEX        8
#define FDS_DB_USERNAME_INDEX         9
#define FDS_DB_PASSWORD_INDEX         10
#define FDS_DB_UPDATE_TYPE_INDEX      11
#define FDS_DB_UPDATE_INTERVAL_INDEX  12
#define FDS_DB_TYPE_INDEX             13

// Indexes of columns for feed models.
#define FDS_MODEL_TITLE_INDEX           0
#define FDS_MODEL_COUNTS_INDEX          1

#if defined(Q_OS_LINUX)
#define OS_ID   "Linux"
#elif defined(Q_OS_OSX)
#define OS_ID   "Mac OS X"
#elif defined(Q_OS_WIN)
#define OS_ID   "Windows"
#elif defined(Q_OS_OS2)
#define OS_ID   "OS2"
#else
#define OS_ID   ""
#endif

#if defined(Q_OS_LINUX) || defined(Q_OS_OSX)
#define APP_DESKTOP_ENTRY_PATH "@DESKTOP_ENTRY_PATH@"
#define APP_DESKTOP_ENTRY_FILE "@APP_LOW_NAME@.desktop"
#define APP_LANG_PATH APP_PREFIX + QString("/share/rssguard/l10n")
#define APP_SKIN_PATH APP_PREFIX + QString("/share/rssguard/skins")
#define APP_INFO_PATH APP_PREFIX + QString("/share/rssguard/information")
#define APP_THEME_PATH APP_PREFIX + QString("/share/rssguard/icons")
#define APP_MISC_PATH APP_PREFIX + QString("/share/rssguard/misc")
#define APP_HTML_PATH APP_PREFIX + QString("/share/rssguard/html")
#define APP_ICON_PATH APP_PREFIX + QString("/share/pixmaps/@APP_LOW_NAME@.png")
#define APP_ICON_PLAIN_PATH APP_PREFIX + QString("/share/rssguard/icons/@APP_LOW_NAME@_plain.png")
#elif defined(Q_OS_WIN) || defined(Q_OS_OS2)
#define APP_LANG_PATH QApplication::applicationDirPath() + QString("/l10n")
#define APP_SKIN_PATH QApplication::applicationDirPath() + QString("/skins")
#define APP_INFO_PATH QApplication::applicationDirPath()
#define APP_THEME_PATH QApplication::applicationDirPath() + QString("/icons")
#define APP_MISC_PATH QApplication::applicationDirPath() + QString("/misc")
#define APP_HTML_PATH QApplication::applicationDirPath() + QString("/html")
#define APP_ICON_PATH QApplication::applicationDirPath() + QString("/@APP_LOW_NAME@.png")
#define APP_ICON_PLAIN_PATH QApplication::applicationDirPath() + QString("/@APP_LOW_NAME@_plain.png")
#endif

#endif // DEFS_H
